services:
  - type: web
    name: video2blog-backend
    runtime: docker
    region: oregon
    plan: free
    rootDir: backend
    dockerfilePath: ./Dockerfile
    dockerContext: ./
    healthCheckPath: /health
    autoDeploy: true
    envVars:
      - key: NODE_ENV
        value: production
      - key: DEEPGRAM_API_KEY
        sync: false
      - key: GEMINI_API_KEY
        sync: false
      - key: PORT
        value: 10000
      # Optional: provide one cookie strategy for yt-dlp when YouTube blocks anonymous requests
      - key: YTDLP_COOKIES_FILE
        sync: false
      - key: YTDLP_COOKIES_BASE64
        sync: false
      - key: YTDLP_COOKIES
        sync: false
